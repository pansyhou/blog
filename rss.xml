<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>pansyhou</title>
        <link>https://pansyhou.github.io/</link>
        <description>pansyhou的小站 Blog</description>
        <lastBuildDate>Sat, 06 May 2023 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh-CN</language>
        <copyright>Copyright © 2023 pansyhou Built with Docusaurus.</copyright>
        <item>
            <title><![CDATA[一次突然的面试]]></title>
            <link>https://pansyhou.github.io/a-sudden-interview</link>
            <guid>https://pansyhou.github.io/a-sudden-interview</guid>
            <pubDate>Sat, 06 May 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[突然袭击的面试]]></description>
            <content:encoded><![CDATA[<p>突然袭击的面试</p><p>lora、tcpip、裁剪linux内核</p><p>烂</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="按照简历来准备吧自嗨时间">按照简历来准备吧（自嗨时间<a href="#按照简历来准备吧自嗨时间" class="hash-link" aria-label="按照简历来准备吧（自嗨时间的直接链接" title="按照简历来准备吧（自嗨时间的直接链接">​</a></h3><p>要烂啦</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rm">RM<a href="#rm" class="hash-link" aria-label="RM的直接链接" title="RM的直接链接">​</a></h3><blockquote><p>Robomaster 机甲大师工程机器人负责人 2022~至今
目前主要负责其工程机器人的嵌入式代码编写， 利用函数指针实现有限状态机和奇妙的面向对象、编写封装驱动、
运动控制算法等等，并使用 FreeRTOS 实时操作系统完成整车的运动控制。 目前正在 Linux 上学习 ROS 机器人操作系统完成对机械臂的路径规划运动控制等等  </p><p>简单介绍一下你在里面负责什么？</p></blockquote><p>这个项目的需求是能够完成整车的运动控制、机身状态切换和人机交互设计部分。</p><p>项目的底层是由两块stm32控制其外设完成的，比如说电机是由can协议发送报文到电调、舵机是控制PWM信号、功率监测芯片是i2c读他的寄存器、陀螺仪是SPI读数据、遥控器是读串口数据</p><p>中间层是由FreeRTOS提供的任务调度，由这个Real time operate system 提供进程的调度，为上层做铺垫。其中，我们开启了几个任务，一个是主任务，负责状态机的处理，第二个是遥控器数据处理任务，第三个是安全任务，负责定时监测各个外设有没有掉线，掉线后的处理等等，第四个是板间通讯，负责上下stm32的数据交换。</p><p>上层就是控制层，根据遥控数据，状态机处理后会跳到对应的处理函数，通过算法比如自动控制原理的pid、lqr实现电机的位置速度闭环驱动，缝合在一起组成整车的基本功能。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="can">can<a href="#can" class="hash-link" aria-label="can的直接链接" title="can的直接链接">​</a></h4><p>每秒可传输的数据位的个数即为通讯中的波特率  </p><p>简单的物理层代表着要有个复杂的协议</p><p>数据帧以一个显性位(逻辑 0)开始，以 7 个连续的隐性位(逻辑 1)结束，在它们之间，
分别有仲裁段、控制段、数据段、 CRC 段和 ACK 段。  </p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="i2c">i2c<a href="#i2c" class="hash-link" aria-label="i2c的直接链接" title="i2c的直接链接">​</a></h4><p><a href="https://blog.csdn.net/D_Procedural_Life/article/details/105496366" target="_blank" rel="noopener noreferrer">【STM32笔记3】I2C的时序解读与软件模拟（即软件I2C的实现，另有软I2C与硬I2C的差异说明）_stm32 flash i2c 时序_D_Procedural_Life的博客-CSDN博客</a></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="linux">linux<a href="#linux" class="hash-link" aria-label="linux的直接链接" title="linux的直接链接">​</a></h4><p>常见目录说明：
/bin： 存放二进制可执行文件(ls,cat,mkdir等)，常用命令一般都在这里；
/etc： 存放系统管理和配置文件；
/home： 存放所有用户文件的根目录，是用户主目录的基点，比如用户user的主目录就是/home/user，可以用~user表示；
/usr ： 用于存放系统应用程序；
/opt： 额外安装的可选应用程序包所放置的位置。一般情况下，我们可以把
tomcat等都安装到这里；
/proc： 虚拟文件系统目录，是系统内存的映射。可直接访问这个目录来获取系统信息；
/root： 超级用户（系统管理员）的主目录（特权阶级o）；
/sbin: 存放二进制可执行文件，只有root才能访问。这里存放的是系统管理员使用的系统级别的管理命令和程序。如ifconfig等；
/dev： 用于存放设备文件；
/mnt： 系统管理员安装临时文件系统的安装点，系统提供这个目录是让用户临时挂载其他的文件系统；
/boot： 存放用于系统引导时使用的各种文件；
/lib ： 存放着和系统运行相关的库文件 ；
/tmp： 用于存放各种临时文件，是公用的临时文件存储点；
/var： 用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务的日志文件（系统启动日志等。）等；
/lost+found： 这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows下叫什么.chk）就在这里。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="freertos">FreeRTOS<a href="#freertos" class="hash-link" aria-label="FreeRTOS的直接链接" title="FreeRTOS的直接链接">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="移植">移植<a href="#移植" class="hash-link" aria-label="移植的直接链接" title="移植的直接链接">​</a></h4><p> <a href="https://blog.51cto.com/u_14114084/3651586" target="_blank" rel="noopener noreferrer">【FreeRTOS】FreeRTOS学习笔记（1）— 使用HAL+ STM32F407ZGT6移植FreeRTOS_51CTO博客_freertos stm32f407</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lora">lora<a href="#lora" class="hash-link" aria-label="lora的直接链接" title="lora的直接链接">​</a></h3><p>勇闯无人区！</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="计网">计网<a href="#计网" class="hash-link" aria-label="计网的直接链接" title="计网的直接链接">​</a></h3><p>tcpip网络模型几层？</p><ol><li><strong>应用层</strong>：为用户提供应用功能，比如 HTTP、FTP、Telnet、DNS、SMTP等。</li><li><strong>传输层</strong>：为应用层提供网络支持的，两个传输协议，分别是 TCP 和 UDP。</li><li><strong>网络层</strong>：最常使用的是 IP 协议（Internet Protocol），IP 协议会将传输层的报文作为数据部分，再加上 IP 包头组装成 IP 报文，如果 IP 报文大小超过 MTU（以太网中一般为 1500 字节）就会再次进行分片，得到一个即将发送到网络的 IP 报文</li><li><strong>网络接口层</strong>：在 IP 头部的前面加上 MAC 头部，并封装成数据帧（Data frame）发送到网络上</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tcp">TCP<a href="#tcp" class="hash-link" aria-label="TCP的直接链接" title="TCP的直接链接">​</a></h4><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="总结">总结<a href="#总结" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3><p>我的准备还是少了，比如说没有看知乎或者说b站的模拟面试，了解整个流程，太依赖问别人获取信息了</p><p>感觉hr一上来给我讲一通的东西我也不懂，我不到啊</p><p>我问的还是少了，缺乏经验</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题">问题<a href="#问题" class="hash-link" aria-label="问题的直接链接" title="问题的直接链接">​</a></h3><ol><li>自我介绍最好还是准备周全一点吧，我随机应变（就是忘了准备）的自我介绍，完全就是看自己当时写的简历乱编的</li><li>有点紧张，不能正常思考（最好还是能够利用自己学过的东西，深挖，狠狠地讲）</li><li>多了解面试要问什么东西，比如说问面试官对公司的讲解、职位的工作内容、人事面的具体福利</li></ol>]]></content:encoded>
            <category>面试</category>
            <category>RoboMaster</category>
        </item>
        <item>
            <title><![CDATA[赛前19天瞎bb]]></title>
            <link>https://pansyhou.github.io/the-19days-before-robomaster</link>
            <guid>https://pansyhou.github.io/the-19days-before-robomaster</guid>
            <pubDate>Mon, 01 May 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[很久都没有写过日志了，是时候说说自己的心里话了，有话说不出，不知道说给谁，说了又不知道，没办法安慰我的。]]></description>
            <content:encoded><![CDATA[<p>很久都没有写过日志了，是时候说说自己的心里话了，有话说不出，不知道说给谁，说了又不知道，没办法安慰我的。</p><p>正好这不是上线了个博客嘛，随手写一下吧。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="正题">正题<a href="#正题" class="hash-link" aria-label="正题的直接链接" title="正题的直接链接">​</a></h2><p>老实讲我现在应该在实验室陪着他们加班的，但是，愈来愈觉得，累</p><p>很多时候我呆在那都是干其他的活，或者说协调或者说闲聊，没多少时间是专注于自己的工作上的</p><p>为什么大二就想当管理层，因为大一觉得管理层有问题，你如果能找到当时的我，我可能有一堆想吐槽的，年轻气盛嘛</p><p>但是现在的我，感觉有点疲惫不堪了。</p><p>也许去不了正式超抗是对我的仁慈吧，但是还是要花一笔钱（还是对我有所考验）</p><p>到现在工程才出了车，而且还没完全出好，你让电控视觉怎么调</p><p>人手不足嘛 </p><p>是，我承认，今年人真心不够，很多时候都是梯队顶上来的，怪不得那时候婷婷就是正式队员，因为真心人手不够，当时就已经补招了。但是 我们没有。忘啦</p><p>不仅是这个的问题，钱也是个大问题。</p><p>超抗去长沙要1.5k，如果带多点梯队的话钱肯定要更多</p><p>没钱了...大学生（本身我自己就爱花钱，平时点多个宵夜啥的）</p><p>长沙要花1.5k啊哥，不少的支出。。。不好和爸妈开口，开了也不知道怎么掏的出来</p><p>怎么赚外快？</p><p>以前总调侃自己，学完stm32加上rm，能在嵌入式横着走，我看未必</p><p>我自己也不知道怎么找外快</p><p>难受</p><blockquote><p>华丽的转身 ：</p><p>不是熟人介绍，你会感觉崩溃的。搞不好连钱都拿不到。很麻烦的。</p><p>穿越时空：</p><p>过来人，不是熟人是不是钱少事多。</p><p>穿越时空：</p><p>运气特不好，还是像谈恋爱中的，你是好人。</p></blockquote><p>感谢爸妈给了我这么多支持，要不是他们心理素质强大，抗住了这片天，我可能早烂了</p><p>最后的最后还是要说一下感情</p><p>51这几天，天天有人在发朋友圈，去哪玩去哪玩，去见哪家的女朋友</p><p>老实讲还是挺压抑的。</p><p>从大一进入实验室以来，要么在实验室，要么在上课，要么在宿舍</p><p>哪来的什么旅游，感情</p><p>真好笑，这两年没什么产出，也没学什么，不愧是吊儿郎当小子</p><p>还旅游，还感情</p><p>总感觉，在给自己压力，明明我真的很想出去玩，明明我很想谈恋爱，但是我还是很想去学习提升自己，真的不想再吊儿郎当的了。</p><p>感情方面，没钱没能力又懒不想追，追了又不珍惜喜欢把人家当树洞，需求这么高你是甲方还是男朋友？</p><blockquote><p>要么我炸，要么你炸</p></blockquote><p>真讨厌</p><p>人的固定思维真难改，好累，讲不通的，不想让大家都好累，谁不喜欢大同世界</p><p>如果人们都能够心意相通，该多好。</p><p>如果我有能力让大家都舒服，该多好。</p><p>看完了，给你们整点好玩的<a href="/somethingInterest">嘻嘻</a> 如果打不开记得刷新一下</p>]]></content:encoded>
            <category>随笔</category>
            <category>杂谈</category>
            <category>RoboMaster</category>
        </item>
        <item>
            <title><![CDATA[麦克纳姆轮运动分解]]></title>
            <link>https://pansyhou.github.io/Decomposition-of-mecanum-wheel-motion</link>
            <guid>https://pansyhou.github.io/Decomposition-of-mecanum-wheel-motion</guid>
            <pubDate>Mon, 13 Mar 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[麦克纳姆轮运动分解，比CSDN更加快速上手]]></description>
            <content:encoded><![CDATA[<p>麦克纳姆轮运动分解，比CSDN更加快速上手</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/************************** Dongguan-University of Technology -ACE**************************</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @brief 底盘独立模式，右手系，食指X ，中指Y</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> *</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @param C </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @param X_IN</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @param Y_IN</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @param Z_IN</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> * @param ExpRescue </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"> ************************** Dongguan-University of Technology -ACE***************************/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// 小轮法向量向中心</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// 1,2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// 3,4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">Chassis_Indepen_Drive</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">C_t </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">float</span><span class="token plain"> X_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">float</span><span class="token plain"> Y_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">float</span><span class="token plain"> Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">int16_t</span><span class="token plain"> ExpRescue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">uint8_t</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">int16_t</span><span class="token plain"> Val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//记录电机实时速度�?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">int16_t</span><span class="token plain"> MAX </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain">               </span><span class="token comment" style="color:rgb(0, 128, 0)">//四个电机里的�?大�?�度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">float</span><span class="token plain"> SPID_OUT</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain">             </span><span class="token comment" style="color:rgb(0, 128, 0)">// PIDout</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">Z_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">!=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        Z_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain">Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/*底盘麦轮运动分解*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">X_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> Y_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">X_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> Y_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">X_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> Y_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">X_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> Y_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/*速度增益*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">*=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">*=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">*=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">*=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/*PID处理*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">i </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(0, 0, 0)">++</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token function" style="color:rgb(0, 0, 255)">PidCalculate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SPID</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">Encoder</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">Speed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">//得到输出�?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">//        Val[i] = C-&gt;WheelMotor[i].Encoder-&gt;Speed[1];    //记录电机实时速度�?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token function" style="color:rgb(0, 0, 255)">CAN1_C620_OR_C610_201_TO_204_SendMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SPID</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SPID</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                         C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SPID</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SPID</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://pic2.imgdb.cn/item/644e1bbc0d2dde5777d42909.jpg" class="img_ev3q"></p><p>先假定这几个轮子和电机在数组里的编号，电调ID往编号里+1即可。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="对电机转速作出正负区分">对电机转速作出正负区分<a href="#对电机转速作出正负区分" class="hash-link" aria-label="对电机转速作出正负区分的直接链接" title="对电机转速作出正负区分的直接链接">​</a></h2><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">X_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> Y_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">X_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> Y_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">X_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> Y_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    C</span><span class="token operator" style="color:rgb(0, 0, 0)">-&gt;</span><span class="token plain">WheelMotor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">ExpSpeed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">X_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> Y_IN </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> Z_IN</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可以看到0和2号被加了个负，因为与1和3的转动方向不一致，取反即可。</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>如果想设置不同的ID，比如说顺时针或者逆时针比较好记，那就改变他这个负号改变速度方向即可。</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="对输入量进行麦轮运动分解">对输入量进行麦轮运动分解<a href="#对输入量进行麦轮运动分解" class="hash-link" aria-label="对输入量进行麦轮运动分解的直接链接" title="对输入量进行麦轮运动分解的直接链接">​</a></h2><p><img loading="lazy" src="https://pic2.imgdb.cn/item/644e1c780d2dde5777d4bb90.jpg" class="img_ev3q"></p><p>就能得到上述公式</p>]]></content:encoded>
            <category>麦克纳姆轮</category>
            <category>RoboMaster</category>
        </item>
        <item>
            <title><![CDATA[example.]]></title>
            <link>https://pansyhou.github.io/why-i-dont-write-notes</link>
            <guid>https://pansyhou.github.io/why-i-dont-write-notes</guid>
            <pubDate>Mon, 13 Mar 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[example.]]></description>
            <content:encoded><![CDATA[<p>example.</p>]]></content:encoded>
            <category>随笔</category>
            <category>杂谈</category>
        </item>
    </channel>
</rss>
---
id: mid-term-review
slug: /mid-term-review
date: 2023-5-7
title: 期中考试复习
authors: pansyhou

---

[toc]



## 计算题

![ww](https://pic.imgdb.cn/item/64591c650d2dde57772e1fbb)

![wowo](https://pic.imgdb.cn/item/64591c460d2dde57772dec30)

:::info

1. CPU执行一段程序时，cache完成存取的次数为？次，主存完成存取的次数为？次，已知cache存取周期为？ns，主存存取周期为？ns，求cache/主存系统的命中率、效率和平均访问时间。（10分）


:::

一眼顶针，之前做过：[直达链接](/docs/storage-system#cache读写的命中率效率)

主要的公式：

- **命中率 **$h=N_{c}/(N_{c}+N_{m})=1900/(1900+100)=0.95$
- **主存系统平均访问时间** $T_{a}=h·t_{c}+(1-h)·t_{m}=60ns$（Cache命中率 x Cache存取周期+主存命中率 x 主存存取周期）
- $效率=t_{c}/t_{a}=50/60=0.8333$(cache平均访问时间/主存平均访问时间)

:::info

1. 一个？×？位动态RAM芯片，其内部结构排列成？×？形式，2ms要刷新一次，存取时间为？μs，请问集中刷新、分散刷新的死区时间各为多少？分散刷新、异步刷新的刷新间隔（两次刷新起始时间间隔或终止时间间隔）为多少？（10分）

:::

## 应用题1、2

之前的习题

> 1. 设存储器容量位**32字**，**字长64位**，模块数**M=4**，采用**交叉方式**进行组织。存储周期**T=200ns**，数据总线宽度为**64位**，总线传送周期为**τ=50ns**。若要连续读出**20个字**，存储器采取单体结构的访问时间，与采取4体交叉组织结构的访问时间**之比**为 <u>3.478</u> (精确到小数点后3位)？如果总线传送周期τ=25ns，存储器采用8体交叉方式进行组织，这时连续读出20个字需要 <u>675</u> ns时间？
> 2. 一个8K×8位的动态RAM芯片，其内部结构排列成256×256形式，存取周期为0.1μs。试问采用集中刷新方式，死区时间是 <u>25.6 us</u> 。异步刷新方式，刷新间隔为 <u> 7.8125 </u> us。

1. ![image-20230504170152454](https://pic.imgdb.cn/item/645374800d2dde5777a6b210)

   复习一下

   - 存储器容量位**32字**是指：一个存储单元的单元数量有32个字，一个字=64bits

   - 模块数**M=4**是指：有四个这样的内存单元

   - T存取周期，里面已经包含了一个总线传送周期了。

     计算发送N位数据的时间算法有点意思

     交叉的：$t=T+(N-1)* τ$ 就是一个存取周期，加上（N(字节数)-1）*总线传送周期，可以看上面的图来辅助理解
     
     不交叉的：$t=T* N$ 量级打压

   那之比的话就是 $P={T*N\over T+(N-1)* τ}={200*20\over 200+(20-1)* 50}=3.4782608695652173$ 

   如果总线传送周期τ=25ns，存储器采用8体交叉方式进行组织，这时连续读出20个字需要时间

   $t=T+(N-1)*τ=200+19*25=675ns$

   

2. ![image-20230504110507160](https://pic.imgdb.cn/item/645320e90d2dde5777307b54)

   复习一下，

   **其内部结构排列成256×256形式，存取周期为0.1μs。试问采用集中刷新方式，死区时间是：？**

   $256*0.1=25.6μs$

   :::caution
   1s = 1000ms，1ms = 1000μs，1μs = 1000ns，记住了傲
   :::

   **异步刷新方式，刷新间隔为**
   
   异步刷新的笔记->[直达链接](/docs/storage-system#异步刷新)
   
   ![image-20230504111828243](https://pic.imgdb.cn/item/645324210d2dde577733a17e)
   
   $2000us/256=7.8125us$

#### 死区刷新时间

分散刷新不存在死去时间

分散刷新间隔为一个存取周期



## 应用题3

> 1. 四片？的存储芯片如下图连接，扩展后存储器的地址空间是多少（?H~?H）扩展后的容量是多少字节？（10分）

:::info

没找到原题，就按上学期那样做吧

:::

#### 字扩展

要求： 用1K×８位的SRAM芯片    拓展成 2K×8位的SRAM存储器 

![image-20230509002151306](https://pic.imgdb.cn/item/6459219f0d2dde577734d1fb)

## 应用题4

1. 设一个Cache中有8个块，访问主存进行读操作的块地址序列为？、？、？、？、？、？、？、？，地址采用直接映射方式，求每次访问后Cache中的内容，即主存的多少号数据块，并写出操作类型。（20分）

| **访问顺序**                       | **1**             | **2**             | **3**             | **4**             | **5**             | **6**             | **7**             | **8**             |
| ---------------------------------- | ----------------- | ----------------- | ----------------- | ----------------- | ----------------- | ----------------- | ----------------- | ----------------- |
| **主存地址**                       | **？**            | **？**            | **？**            | **？**            | **？**            | **？**            | **？**            | **？**            |
| **Cache号**                    | **Cache数据** | **Cache数据** | **Cache数据** | **Cache数据** | **Cache数据** | **Cache数据** | **Cache数据** | **Cache数据** |
| **0**                              |                   |                   |                   |                   |                   |                   |                   |                   |
| **1**                              |                   |                   |                   |                   |                   |                   |                   |                   |
| **2**                              |                   |                   |                   |                   |                   |                   |                   |                   |
| **3**                              |                   |                   |                   |                   |                   |                   |                   |                   |
| **4**                              |                   |                   |                   |                   |                   |                   |                   |                   |
| **5**                              |                   |                   |                   |                   |                   |                   |                   |                   |
| **6**                              |                   |                   |                   |                   |                   |                   |                   |                   |
| **7**                              |                   |                   |                   |                   |                   |                   |                   |                   |
| **操作类型** |                   |                   |                   |                   |                   |                   |                   |                   |

![image-20230509001439304](https://pic.imgdb.cn/item/64591fef0d2dde57773308c2)

## 填空题

- 设立内存/外存、Cache/内存体系，基于程序的 <u>局部</u> 性原理，目的是为了提高访存速度。
- 若不采用统一Cache，通常将Cache 分离为两个部分： <u>指令</u> Cache和 <u>数据</u> Cache。
- Cache的三种替换算法是 <u>随机</u> 替换法， <u>FIFO</u> 替换法， <u>最近最少使用</u> 替换法。

## 复盘

1. 细节处理不到位；
   1. booth算法的符号位漏了，复习的时候没看清
   2. IEEE那个单精度浮点人为漏了个1.，过于注重在计算部分，遗漏了细节
   3. 上面的填空题写了也忘了...
   4. 上面存储器的，只看了旧作业的习题，忘记大纲的题目而遗漏掉分散式的刷新时间
2. 大局掌握的不到位；
   1. （你还能复习错的？）
   2. 对整体的理解（比如说补码的计算或者说反码的具体原理缺失）
3. 容易忘，记录在md里不一定好复盘，只是留作记录
4. **学习方法有待调整**

考试中出现的状况：

1. 选择题居然排除不了选项（没听课是这样的）
2. 一个F居然算出来8位？（平时少训练了是吗？）

真无语了


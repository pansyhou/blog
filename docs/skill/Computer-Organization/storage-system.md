---
id: storage-system
slug: /storage-system
date: 2023-5-4
title: 存储系统
authors: pansyhou

---

## 主存储器

可分为

- 随机读写RAM
- 只读ROM
- 高性能主存储器



### RAM

- SRAM
  - 使用双稳态触发器表示01
  - 常用作高速缓冲存储器Cache
- DRAM
  - 刷新间隔时间：DRAM最大信息保持时间，一般为2ms
  - 刷新方式：集中式刷新、分散式刷新、异步式刷新

#### DRAM集中式刷新

![image-20230504110507160](https://pic.imgdb.cn/item/645320e90d2dde5777307b54)

:::caution

注意死区时间的概念(为什么刷新时间是串行的？不应该是并行的吗？不过如果要写数据的话，可能真的要)

:::





#### 分布式刷新

大概是将一个存储周期分为访问和刷新，但是一个时钟周期有很多存储周期

优点是能够缩短刷新周期，死区减少

缺点应该就是这个刷新存储周期太多了

![image-20230504110935316](https://pic.imgdb.cn/item/645321fd0d2dde5777319617)

#### 异步刷新

我的评价是：降低分布式刷新的频率，取了折中的方法

![image-20230504111828243](https://pic.imgdb.cn/item/645324210d2dde577733a17e)

## 高速存储器

分为

- 双端口存储器
- 多体交叉存储器
- 相联存储器



### 双端口存储器

特点：同一个存储器具有`两组相互独立`的读写控制线路，允许两个独立的CPU**或控制器同时异步地访问存储单元**，是一种高速工作的存储器。其最大的特点是`存储数据共享`。
**结构特点**：具有`左右两个端口`，每一个端口都有自己的片选控制信号和输出使能控制信号。 

![image-20230504114910005](https://pic.imgdb.cn/item/64535b120d2dde57777fa7d8)

**访问冲突**：当左端口和右端口的地址`不相同`时，在两个端口上**同时进行读写操作，不会发生冲突**。若左、右端口**同时访问相同**的存储单元，则会**发生读写冲突**。

**解决方法**：判断逻辑决定对哪个端口优先进行读写操作，而**暂时关闭**另一个被延迟的端口，即置其忙信号**BUSY#=0**。

### 多体交叉存储器

:::caution

这个是普通的

:::

![image-20230504162010381](https://pic.imgdb.cn/item/64536abb0d2dde577795ef21)

:::caution

这个是交叉的

:::

![image-20230504162046270](https://pic.imgdb.cn/item/64536ae50d2dde5777961b33)

> 你要说有什么本质的区别吧?你看普通的，会发现他是地址是连续地在连续内存块上，而交叉的，并不是一种完全连续的，是有映射关系的

访问：CPU快速送出的M个地址，只要他们分属于M个存储体，访问就不会冲突；由存储器控制部件控制它们**分时**使用数据总线进行信息传递。

适合采用流水线方式**并行存取**，虽然每个存储体的存储周期没变，但是当CPU连续访问一个字块时，可以大大提高存储器的带宽。

**结构特点**：多体交叉存储器由M个的存储体（或称存储模块）组成，每个存储体有相同的容量和存取速度，又有各自独立的地址寄存器、地址译码器、读写电路和驱动电路。

**编址方法**：交叉编址，即任何两个相邻地址的物理单元不属于同一个存储体，一般在相邻的存储体中；同一个存储体内的地址都是不连续的。

:::info

**特点**：**通过改进主存的组织方式，在不改变存储器存取周期的情况下，提高存储器的带宽。**

:::

![image-20230504165927843](https://pic.imgdb.cn/item/645373f00d2dde5777a58b89)

:::info

为什么会快？如果处理器一下子要四个地址，刚好四个地址因为交叉的原因可以访问到四个存储体，刚好就可以并行访问，从而提高存储器的带宽。

:::

#### 例题

![image-20230504170152454](https://pic.imgdb.cn/item/645374800d2dde5777a6b210)

（好久没计算过带宽了捏）

$T=200ns$ 

![image-20230504171433097](https://pic.imgdb.cn/item/645377790d2dde5777aacdca)

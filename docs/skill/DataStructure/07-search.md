---

id: 07-search
slug: /07-search
title: 07-查找
---

# 查找

==ASL=每个结点的概率*找到他需要比较的次数总和==





## 折半查找

![](https://pic.imgdb.cn/item/6627c0180ea9cb14034f407a.png)

1. 判定树，[log2(n+1)]向**下**取整的`右节点-左节点数=0/1`，向**上**取整的左-右=0/1
   1. 对于这个，每一种取整方式都会让树有一种偏向方式，带入9个结点的试试，左边4个右边5个？然后向上还是向下取整 就会取哪边

2. `失败节点=n+1`，因为二叉树的空链域=n+1
3. `h=[log2(n+1)]`向上取整。参考完全二叉树的计算方法
4. $ASL_{失败}\le$h
5. $ASL_{成功}\le$h
6. ASL成功计算=h*2^h-1



## 分块查找

设长度为n，均匀地分b块，每块有s条记录

索引表个数（几块）计算：$b=\frac{n}{s}$

当b=更号n时







## 树形查找

### 二叉排序树

![](https://pic.imgdb.cn/item/6628c7c50ea9cb1403f022fd.png)

> 删除操作中
>
> 1. 叶子结点直接删
> 2. 只有左/右子树，直接删，然后让子节点连上去
> 3. 有左右子树
>    1. 用**直接前驱**代替，再删掉（即左子树的最右下角的节点，就是左子树**最大**的数）
>    2. 用`直接后驱`代替，再删掉（即右子树的最右下角的节点，就是右子树**最小**的数）



> 查找效率
>
> 最好O（log2n），最坏O(n)

### 平衡二叉树插入构造

![](https://pic.imgdb.cn/item/6628fdff0ea9cb140358d802.png)

### 平衡二叉树删除

![](https://pic.imgdb.cn/item/662909870ea9cb1403745fa9.png)

### 红黑树definition

![](https://pic.imgdb.cn/item/66290d6c0ea9cb14037cc38e.png)

> 左根右，根叶黑
>
> 不哄哄，黑男同

> 结点的黑高bh=从某结点出发(不含该结点)到达任一空叶结点的路径上黑结点总数

### 红黑树插入insert



![](https://pic.imgdb.cn/item/662912b90ea9cb1403896ffa.png)

需要记忆的可能是染色，将`爷父二人颜色取反`

![](https://pic.imgdb.cn/item/662913f00ea9cb14038c0fb1.png)

![](https://pic.imgdb.cn/item/662914ba0ea9cb14038db187.png)

![](https://pic.imgdb.cn/item/662915a20ea9cb14038f806a.png)

### 红黑树总结

![](https://pic.imgdb.cn/item/662918180ea9cb140394364c.png)

> 根节点黑高为h的红黑树，内部节点数至少有多少个？
>
> answer：总共h层`黑节点的满树`
>
> 为什么一定要满树？ （会破坏黑路同的性质，不对称了，不对称那边就应该不是h）
>
> 这种的结点数最少有$2^h-1$
>
> 回答了红黑树$h\le 2log_2(n+1)$
>
> because，若总高度=h，根节点黑高$\ge \frac{h}{2}$ 由纯黑满树的结点数可得$n\ge 2^{\frac {h}{2}}-1$ 化简就能得到上式
>
> 



 

### B树





> 公式汇总：
>
> 1. 树中`每个结点`至多有==m棵子树==，即至多有==m-1个关键字==。

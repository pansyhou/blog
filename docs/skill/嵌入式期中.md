## 第一章

> 1简述什么是嵌入式系统？试列举几个常见的实例。

嵌入式系统是以应用为中心，以计算机技术为基础，软件、硬件可裁减，功能、可靠性、成本、体积、功耗严格要求的专用计算机系统

> 通过比较嵌入式系统与通用PC、单片机，说明嵌入式系统具有的特点。

专用性强：面相特定应用

系统内核小：采用专用处理器，系统配置够用

实时性高：或不用操作系统，或选配实时操作系统

****运行环境苛刻：**对体积、功耗严格要求

程序固化：运行程序固化在存储器芯片里

专用开发工具：自身不具备自主开发能力，需专用开发工具支持

> 简述机器语言、汇编语言和高级语言各自特点及相互关系。

机器语言：一种指令集的体系。依赖于硬件，可以直接执行，速度最快，不便于人类阅读和编程。

汇编语言：机器语言的符号化，不同机器有不同的机器语言，就有不同的汇编语言。是低级语言，执行效率虽然略低于机器语言，但比高级语言快。相对于机器语言来说更便于人类理解和编程，但编程效率低。 

高级语言：高度封装了的编程语言，与低级语言相对。更加接近于自然语言的一种计算机程序设计语言。编译器的作用就是把高级语言的源代码转换成对应平台的目标代码。高级语言书写比较简单，但是翻译起来比较复杂，同样的高级语言语句可以有不同的机器语言实现方法。

因此同一段高级语言经过不同的编译器编译之后会得到不同的目标程序，就是说高级语言与汇编/机器语言之间不再是一一对应的关系了。

> 了解和总结嵌入式系统的最新发展方向、应用领域。

1．小型化、智能化、网络化、可视化;
2．多核技术的应用;
3．低功耗（节能）、绿色环保;
4．云计算、可重构、虚拟化等技术被进一步应用到嵌入式系统
5．嵌入式软件开发平台化、标准化、系统可升级，代码可复用将更受重视;
6．嵌入式系统软件将逐渐PC化;
7．融合趋势(嵌入式系统软/硬件融合、产品功能融合、嵌入式设备和互联网的融合趋势加剧。);
8．安全性.

> 嵌入式系统的两种技术体系及其差异？

嵌入式系统强调基于平台的设计、软硬件协同设计；单片机大多采用软硬件流水设计;

> ARM、Cortex及STM32之间的关系？

ARM(Advanced RISC Machine)可以理解为公司的名字、一类低功耗高性能处理器内核和架构、还可以理解为一种技术的名称

Cortex是ARM的新一代处理器架构ARM V7架构，大胆采用新技术，放弃向前兼容，老版本程序必须经过移植才能在Cortex上运行，具体分为A、R、M三个系列； 

按照ARM的经营模式，只提供IP核、公司本身不生产和销售集成电路芯片，芯片由合作伙伴完成。

STM32就是意法半导体(ST Microelectronics)推出的基于Cortex内核的微处理器。 



## 第二章

> 你对CISC和RISC的理解

CISC：复杂指令集，具有大量的指令和寻址方式 

8/2原则：80%的程序只使用20%的指令 大多数程序只使用少量的指令就能够运行。 

RISC：精简指令集，在通道中只包含最有用的指令 确保数据通道快速执行每一条指令 使CPU硬件结构设计变得更为简单



> 嵌入式微处理器有哪些类别？试列举一些实例。

1)嵌入式微控制器(MCU)，又称为单片机。片上外设资源比较丰富，适合于控制。

2)嵌入式微处理器(MPU)。由通用计算机中的CPU发展而来，主要特点是具有32位以上的处理器，具有比较高的性能，价格也较高。

3)嵌入式DSP处理器。专门用于信号处理方面的处理器，在系统结构和指令算法方面进行了特殊设计，具有很高的编译效率和指令执行速率，主要用在数字滤波、FFT、频谱分析等各种仪器上。

4)嵌入式片上系统(SOC)。它是追求产品系统最大包容的集成器件。



> 简述BSP的概念、特点，与PC机中BIOS的区别。

BSP(板级支持包)是介于底层硬件和操作系统之间的软件层，它完成系统上电后最初的硬件和软件初始化，并对底层硬件进行封装，使得操作系统不再面对具体的操作。 

BSP的特点：硬件相关性，操作系统相关性。 

①BSP主要是负责在电脑开启时检测、初始化系统设备、装入操作系统并调度操作系统向硬件发出的指令。 

②BSP是和操作系统绑在一起运行的，尽管BSP的开始部分和BIOS所做的工作类似，但是BSP还包括和系统有关的基本驱动。 

③BIOS的代码是在芯片生产过程中固化的，一般来说用户无法修改，只能对参数进行修改设置，但程序员可以编程修改BSP，可在BSP中根据需要任意添加一些和应用相关但与系统无关的硬件设备驱动程序，甚至可以把上层开发的统统放到BSP中。



> ARM处理器和传统的单片机相比，都采用了哪些先进技术？

流水线技术：计算机中一条指令的执行可分为若干个阶段，由于每个阶段的操作相对都是独立的。因此可以采用流水线的重叠技术来大大提高系统的性能。在流水线装满以后，几个指令可以并行执行。这样可充分利用现有硬件资源，提高了CPU的运行效率。 

超标量执行：通过重复设置多套指令执行部件，同时处理并完成多条指令，实现并行操作，来达到提高处理速度的目的。 

总线和总线桥：提高系统内部和外设之间的数据传输效率和速度。 

DMA技术: 指一种高速的数据传输操作，允许在外部设备和存储器之间直接读写数据，既不通过CPU，也不需要CPU干预。整个数据传输操作在DMA控制器的控制下进行。CPU除了在数据传输开始和结束的时候做一点处理，在传输过程中CPU可以进行其它工作。这样，在大部分时间里，CPU和输入输出都处在并行操作。因此，使整个计算机系统的效率大大提高。

> 嵌入式操作系统的特点？列举常见的嵌入式操作系统，并简述其特点和应用领域。

优点：

1) 在嵌入式实时操作系统环境下开发实时应用程序使程序的设计和扩展变得容易，不需要大的改动就能得到新的功能。
2) 通过将应用程序分割成若干独立的任务模块，使应用程序的设计过程大为简化，而且对实时性要求苛刻的事件都得到了快速可靠地处理。
3) 通过有效的系统服务，嵌入式实时操作系统使得系统资源得到更好的利用。

缺点：

1) 需要额外的ROM/RAM开销
2) 2~5%的CPU额外负荷以及内核的费用

> 非占先式与占先式内核对中断服务以后控制权的处理有何不同？

非占先式调度法也称作合作型多任务，各个任务彼此合作共享一个CPU。

中断服务可以使一个高优先级的任务由挂起状态变为就绪状态。但中断服务以后控制权还是回到原来被中断了的那个任务，直到该任务主动放弃CPU的使用权时，那个高优先级的任务才能获得CPU的使用权。

占先式内核中最高优先级的任务一旦就绪，总能得到CPU的控制权。即当一个运行着的任务使一个比它优先级高的任务进入了就绪态，当前任务的CPU使用权就被剥夺了，或者说被挂起了，那个高优先级的任务立刻得到了CPU的控制权.

> 何为可重入函数、不可重入函数？

可重入函数主要用于多任务环境中，一个可重入函数简单来说就是可以被中断的函数，也就是说，可以在这个函数执行的任何时刻中断它，转入OS调度下去执行另外一段代码，而返回控制时不会出现什么错误

不可重入函数由于使用了一些系统资源（全局变量区，中断向量表等），所以它如果被中断的话，可能会出现问题，这类函数是不能运行在多任务环境下的。 

> 什么是RAM？常用的RAM类别有哪些？RAM和FLAH的区别？

Random Access Memory，随机存取存储器，具有随机访问的特性。是非易失性存储器。

SRAM 是“staticRAM（静态随机存储器）”的简称，之所以这样命名是因为当数据被存入其中后只要不掉电，不会消失。

•DRAM：它的基本原件是小电容，电容可以在两个极板上保留电荷，但是需要定期的充电（刷新），否则数据会丢失。缺点：由于要定期刷新存储介质，存取速度较慢。
•SRAM：它是一种具有静止存取功能的内存，不需要定期刷新电路就能保存它内部存储的数据。其优点：存取速度快; 但是缺点是：功耗大，成本高。常用作存储容量
SDRAM(Synchronous Dynamic Random Access Memory):同步动态随机存储器.是RAM中最快的一种。

NOR Flash芯片其内部结构是采用并行方式工作的，内部的地址线和数据线是分开的。其特点可以按字节随机读取任意单元的内容。
而NAND型Flash的基本工作方式是按顺序串行读取，一个区块写入或读出结束再进行下一个操作，采用的是串行方式工作。
因为作为ARM处理器内存空间必须要具备随机读写特性，所以只有NOR Flash才能挂在内存空间。 

## 第三章

> 简述你对内存的理解。

1、内存就是一条形物理设备；从功能上讲，内存是一个数据仓库，程序在执行前都要被装载到内存中，才能被中央处理器执行；

2、内存是由按顺序编号的一系列存储单元组成的，在内存中，每个存储单元都有唯一的地址，通过地址可以方便地在内存单元中存储信息。内存中的数据要靠供电来维持，当计算机关机或意外断电时，其中的所有数据就永久地消失了。



3、内存地址是连续的，相邻内存单元间的地址差1，可以把内存看成一个平坦连续的一维线性空间。以字节为单位进行编址。

4、中央处理器进行的处理离不开内存，使用过windows系统的大家都知道，双击某个可执行程序，CPU会执行它，这实际上是复杂的内存载入过程：
（1）程序要进行的操作对应的代码被装载到代码区；
（2）全局和静态数据等装载到数据区；
（3）开辟堆栈，供临时变量等使用



> 谈谈你对嵌入式程序开发中高级语言选择的理解。

因为C语言既具有高级语言编程效率高的特点，又具有低级语言通过位操作控制硬件的能力，选择C语言作为主要编程语言，但是C语言操作硬件的能力有限，必要时还需要借助汇编语言。灵活地运用汇编语言和C语言之间的关系进行混合编程，有利于系统和相关模块的开发。  

> 参数宏和函数的异同点？

二者都可以带有参数，都可以根据不同参数得到不同结果，都可以一次定义多次使用。

区别：

一是参数宏的形式参数表中没有类型说明符，而函数有；

二是参数宏在时空的开销上比函数都要小，宏无法节约空间而函数可以。 

预处理在处理参数宏时使用两遍宏展开，第一遍展开宏体，第二遍对展开的宏体用实参数替换形式参数。 

> 如何理解嵌入式C编程中的volatile修饰符？

易失性修饰符，说明所定义的变量或指针可以被多种原因修改。

例如，有的变量在中断服务程序中会被修改，有的会被I/ O修改，这种修改带有随机性，为防止丢失任何一次修改，需要修饰为易失性变量。 定义为volatile的变量是说这变量可能会被意想不到地改变，编译器在用到这个变量时必须每次都重新读取这个变量的值，而不是使用保存在寄存器里的备份。 

> staic的三种使用方法。

1)在函数体内，一个被声明为静态的变量在这一函数被调用过程中维持其值不变。 

2)在文件域内(但在函数体外)，一个被声明为静态的变量可以被文件域内所有函数访问，但不能被文件域外其它函数访问。它是一个本地的全局变量。 

3)在文件域内，一个被声明为静态的函数只可被这一文件域内的其它函数调用。那就是，这个函数被限制在声明它的文件的本地范围内使用。 

> I/O接口的两种编址方式？有何优缺点？

I/O接口独立编址——端口映射方式；I/O接口与存储器统一编址方式——内存映射。

独立编址：将存储器地址空间和I/O接口地址空间分开设置，互不影响。设有专门的输入指令（IN）和输出指令（OUT）来完成I/O操作。

主要优点：内存地址空间与I/O接口地址空间分开，互不影响，译码电路较简单，并设有专门的I/O指令，所以编程序易于区分，且执行时间短，快速性好。
缺点：只用I/O指令访问I/O端口，**功能有限且要采用专用I/O周期和专用I/O控制线，使微处理器复杂化。**



统一编址：不区分存储器地址空间和I/O接口地址空间，把所有的I/O接口的端口都当作是存储器的一个单元对待，每个接口芯片都安排一个或几个与存储器统一编号的地址号。

也不设专门的输入/输出指令，所有传送和访问存储器的指令都可用来对I/O接口操作。

主要优点：访问内存的指令都可用于I/O操作，数据处理功能强；同时   I/O接口可与存储器部分共用译码和控制电路。
缺点： 1、I/O接口要占用存储器地址空间的一部分； 2、因不用专门的I/O指令，程序中较难区分I/O操作。 

## 第四章

> 嵌入式开发过程中，**宿主机**和**目标机**分别指的是什么？

宿主机用于程序的开发，目标机作为最后的执行机。

宿主机模拟了目标机的运行环境，集成了开发工具，用于开发目标机上的应用程序。

> 嵌入式系统的应用程序和windows的应用程序有何不同？

宿主机用于程序的开发，目标机作为最后的执行机。

宿主机模拟了目标机的运行环境，集成了开发工具，用于开发目标机上的应用程序。

windows的应用程序的编译和加载过程：操作系统映像文件提前由引导程序加载到内存中运行；其后再将编译器、汇编器、链接器生成的可执行文件加载到内存运行。 

嵌入式应用程序的编译和加载过程：操作系统映像和由编译器、汇编器、链接器生成的可执行映像文件一起生成映像文件，由烧写器固化存储在固态存储器中，系统初始化时再加载到内存运行。

> 嵌入式系统常用的四种调试方法？

模拟调试：优点：简单方便，不需要目标板，成本低；缺点：功能非常有限，无法实时调试
软件调试：优点：纯软件，价格较低，简单，软件调试能力较强
缺点：需要事先烧制Monitor(往往需多次试验才能成功 )且目标板工作正常，功能有限，特别是硬件调试能力较差。
BDM/JTAG调试：优点：方便、简单，无须制作Monitor，软硬件均可调试；缺点：需要目标板，且目标板工作基本正常(至少MCU工作正常)，仅适用于有调试接口的芯片。
全仿真调试(Emulator)：优点：功能非常强大，软硬件均可做到完全实时在线调试；缺点：价格昂贵。



> 嵌入式集成开发环境主要包括哪几个工具？

汇编程序：将汇编语言翻译成二进制机器指令，除了将操作码、操作数转换为相应的二进制编码外，汇编程序还将符号标签转换为实际地址。 

编译程序：将结构化程序翻译成机器程序。 

链接程序：可以将分开汇编或编译的文件合并成一个程序。 

调试程序：帮助程序员评估	并更正程序。 

实时在线仿真器ICE：支持程序的调试，但在目标处理器上执行。 

编程下载器：将开发机存储器内存放的二进制机器码下载到目标机的存储器中。这样嵌入式系统就可以在真实环境中执行系统。

> 当使用MDK- ARM作为嵌入式开发工具，说明其开发的流程。

当使用MDK- ARM作为嵌入式开发工具，其开发的流程与其他开发工具基本一样，一般可以分以下几步：
1)新建一个工程。从处理器库中选择目标芯片；
2)自动生成启动文件或使用芯片厂商提供的基于CMSIS标准的启动文件及固件库；
3)配置编译器环境；
4)用C语言或汇编语言编写源文件；
5)编译目标应用程序；
6)修改源程序中的错误；
7)调试应用程序。



 